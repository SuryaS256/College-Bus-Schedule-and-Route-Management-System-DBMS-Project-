CREATE TABLE STOPS(STOP_ID INT,STOP_NAME VARCHAR2(35));
CREATE TABLE ROUTE1(ROUTE_ID INT,ROUTE_NAME VARCHAR2(35));
CREATE TABLE ROUTE(ROUTE_ID INT,STOP_ID INT);
CREATE TABLE DRIVER(DRIVER_ID VARCHAR2(10),FNAME VARCHAR2(20),LNAME VARCHAR2(20),PHONE NUMBER(10),ADDRESS VARCHAR2(30));
CREATE TABLE BUS(VEHICLE_NO VARCHAR2(20),BUS_NAME VARCHAR2(20),CAPACITY INT,DRIVER_ID VARCHAR2(10),ROUTE_ID INT,UNIQUE(BUS_NAME));
CREATE TABLE TIMINGS(ROUTE_ID INT,BUS_NAME VARCHAR2(20),START_TIME VARCHAR2(10),END_TIME VARCHAR2(10));

ALTER TABLE STOPS ADD CONSTRAINT PK1 PRIMARY KEY(STOP_ID);
ALTER TABLE ROUTE1 ADD CONSTRAINT PK2 PRIMARY KEY(ROUTE_ID);
ALTER TABLE ROUTE ADD CONSTRAINT PK3 PRIMARY KEY(ROUTE_ID,STOP_ID);
ALTER TABLE DRIVER ADD CONSTRAINT PK4 PRIMARY KEY(DRIVER_ID);
ALTER TABLE BUS ADD CONSTRAINT PK5 PRIMARY KEY(VEHICLE_NO,ROUTE_ID);
ALTER TABLE TIMINGS ADD CONSTRAINT PK6 PRIMARY KEY(ROUTE_ID,BUS_NAME,START_TIME);

ALTER TABLE ROUTE ADD CONSTRAINT FK11 FOREIGN KEY(ROUTE_ID) REFERENCES ROUTE1(ROUTE_ID);
ALTER TABLE ROUTE ADD CONSTRAINT FK12 FOREIGN KEY(STOP_ID) REFERENCES STOPS(STOP_ID);
ALTER TABLE BUS ADD CONSTRAINT FK13 FOREIGN KEY(ROUTE_ID) REFERENCES ROUTE1(ROUTE_ID);
ALTER TABLE BUS ADD CONSTRAINT FK14 FOREIGN KEY(DRIVER_ID) REFERENCES DRIVER(DRIVER_ID);
ALTER TABLE TIMINGS ADD CONSTRAINT FK15 FOREIGN KEY(ROUTE_ID) REFERENCES ROUTE1(ROUTE_ID);
ALTER TABLE TIMINGS ADD CONSTRAINT FK16 FOREIGN KEY(BUS_NAME) REFERENCES BUS(BUS_NAME);



